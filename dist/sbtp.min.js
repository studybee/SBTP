$(document).ready(function(){$(".sb-table-sort").each(function(){$(this).sortTable($(this).data())})}),$.fn.sortTable=function(t,e){if(0===$(this).length)throw"Not Found correct element";if($(this).length>1){var n=[];return $(this).each(function(){n.push(new SortTable($(this),t,e))}),n}return new SortTable($(this),t,e)};var SortTable=function(t,e,n){function r(){f.sortAbleField.css({cursor:"pointer","-ms-user-select":"none","-moz-user-select":"-moz-none","-khtml-user-select":"none","-webkit-user-select":"none","user-select":"none","vertical-align":"middle"}),c(),a(),o(),e.onInit(u)}function a(){f.sortAbleField.data("sort","default"),f.sortAbleField.append($("<i></i>").addClass("fa").addClass("fa-sort")),h=f.sortAbleField.find("i")}function o(){f.sortAbleField.click(function(t){for(var e,n=f.sortAbleField.index($(this)),r=[],a=0;a<u.length;a++)r.push({sortNum:a,sortData:u[a][n]});"default"==$(this).data("sort")||"asc"==$(this).data("sort")?(e="desc",r.sort(function(t,e){return-1*l(t.sortData,e.sortData,{intensive:!0})})):"desc"==$(this).data("sort")&&(e="asc",r.sort(function(t,e){return l(t.sortData,e.sortData,{intensive:!0})})),f.sortAbleField.data("sort","default"),$(this).data("sort",e),s(n,e),i(r)})}function s(t,e){$(h).attr("class","fa fa-sort"),$(h[t]).attr("class","fa fa-sort-"+e)}function i(t){d.container.find("tbody").empty();for(var e=0;e<u.length;e++){d.container.find("tbody").append("<tr></tr>");for(var n=0;n<u[e].length;n++){var r=$("<td>"+u[t[e].sortNum][n]+"</td>");d.container.find("tbody > tr:nth-child("+(e+1)+")").append(r)}}c()}function l(t,e){var n,r,a=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,o=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,i=/^0x[0-9a-f]+$/i,c=/^0/,d=function(t){return l.insensitive&&(""+t).toLowerCase()||""+t},f=d(t).replace(o,"")||"",u=d(e).replace(o,"")||"",h=f.replace(a,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),$=u.replace(a,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),p=parseInt(f.match(i))||1!=h.length&&f.match(s)&&Date.parse(f),b=parseInt(u.match(i))||p&&u.match(s)&&Date.parse(u)||null;if(b){if(b>p)return-1;if(p>b)return 1}for(var m=0,g=Math.max(h.length,$.length);g>m;m++){if(n=!(h[m]||"").match(c)&&parseFloat(h[m])||h[m]||0,r=!($[m]||"").match(c)&&parseFloat($[m])||$[m]||0,isNaN(n)!==isNaN(r))return isNaN(n)?1:-1;if(typeof n!=typeof r&&(n+="",r+=""),r>n)return-1;if(n>r)return 1}return 0}function c(){u=[],$(d.container).children("tbody").children("tr").each(function(t){var e=[];$(this).children("td").each(function(t){e.push($(this).html())}),u.push(e)})}$.isFunction(e)&&(n=e,e=null);var d=this;d.container=t,$.fn.sortTable.setting={onInit:function(t){}},e=$.extend($.fn.sortTable.setting,e);var f={sortAbleField:$(d.container).children("thead").find("th:not('[data-sort=false]')")},u=[],h=[];return r(),d};SortTable.prototype.action=function(){console.log("to do something")};
